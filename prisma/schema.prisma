datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")
}

model User {
    id       String     @id
    createAt DateTime
    updateAt DateTime
    active   Boolean    @default(true)
    username String     @unique
    password String
    email    String
    image    Image[]
    Traveler Traveler[]
    Promoter Promoter[]
}

model People {
    id               String    @id
    createAt         DateTime
    updateAt         DateTime
    active           Boolean   @default(true)
    name             String
    lastname         String
    gender           Gender
    age              Int
    birth            DateTime
    identityDocument String
    Traveler         Traveler? @relation(fields: [travelerId], references: [id])
    travelerId       String?
}

model Image {
    id               String          @id
    createAt         DateTime
    updateAt         DateTime
    active           Boolean         @default(true)
    url              String
    alt              String
    width            Int
    height           Int
    type             TypeImage
    User             User?           @relation(fields: [userId], references: [id])
    userId           String?
    ProductService   ProductService? @relation(fields: [productServiceId], references: [id])
    productServiceId String?
}

enum TypeImage {
    avatar
    banner
}

model Traveler {
    id       String   @id
    createAt DateTime
    updateAt DateTime
    active   Boolean  @default(true)
    user     User     @relation(fields: [userId], references: [id])
    userId   String
    people   People[]
}

enum Gender {
    male
    female
}

model Promoter {
    id       String   @id
    createAt DateTime
    updateAt DateTime
    active   Boolean  @default(true)
    user     User     @relation(fields: [userId], references: [id])
    userId   String
    role     Role
}

enum Role {
    admin
    non_admin
}

model ProductService {
    id          String             @id
    createAt    DateTime
    updateAt    DateTime
    active      Boolean            @default(true)
    name        String
    price       String
    image       Image[]
    description String
    trip        Trip[]
    type        TypeProductService
}

enum TypeProductService {
    product
    service
    accommodation
}

model Trip {
    id             String           @id
    createAt       DateTime
    updateAt       DateTime
    active         Boolean          @default(true)
    productService ProductService[]
    name           String
    description    String
    start          DateTime
    end            DateTime
}
